---
layout: vimdoc
helpname: 'os_390'
---
<div id='vimCodeElement'>
<span class="MissingTag">os_390.txt</span>&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;<span class="Identifier">Vim バージョン 8.1.</span>&nbsp;&nbsp;Last change: 2016 Feb 27<br>
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Identifier">VIMリファレンスマニュアル&nbsp;&nbsp;&nbsp;&nbsp;by Ralf Schandl</span><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="MissingTag">zOS</span>&nbsp;<span class="MissingTag">z/OS</span>&nbsp;<span class="MissingTag">OS390</span>&nbsp;<span class="MissingTag">os390</span>&nbsp;<span class="MissingTag">MVS</span><br>
このファイルには z/OS Unix 上の Vim についての事項が書かれている。<br>
<br>
1. ASCII/EBCDIC 依存のスクリプト&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="MissingTag">zOS-has-ebcdic</span><br>
2. Putty と色&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="MissingTag">zOS-PuTTY</span><br>
3. Motif の問題&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="MissingTag">zOS-Motif</span><br>
4. バグ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="MissingTag">zOS-Bugs</span><br>
5. 制限事項&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="MissingTag">zOS-limitations</span><br>
6. z/OS UNIX 上のオープンソース&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="MissingTag">zOS-open-source</span><br>
<br>
<span class="PreProc">貢献者:</span><br>
z/OS Unix への移植は Ralf Schandl &lt;schandl@de.ibm.com&gt; によって後述の Redbook<br>
のために行われた。<br>
<br>
以下の方々からパッチやバグレポートを戴いた:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;David Moore<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Anthony Giorgio<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and others<br>
<br>
<span class="PreProc">==============================================================================</span><br>
1. ASCII/EBCDIC に依存のスクリプト&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="MissingTag">OS390-has-ebcdic</span>&nbsp;<span class="MissingTag">zOS-has-ebcdic</span><br>
<br>
Vim script 用に &quot;ebcdic&quot; 機能が追加された。ASCII に依存したスクリプトは、以下<br>
のようにすることで修正可能である:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;if has(&quot;ebcdic&quot;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let space = 64<br>
&nbsp;&nbsp;&nbsp;&nbsp;else<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let space = 32<br>
&nbsp;&nbsp;&nbsp;&nbsp;endif</div>
<br>
<br>
<span class="PreProc">==============================================================================</span><br>
2. Putty と色&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="MissingTag">OS390-PuTTY</span>&nbsp;<span class="MissingTag">zOS-PuTTY</span><br>
<br>
Putty を使って z/OS に接続したときに、構文強調表示やスクリーンの表示が乱れるよ<br>
うな問題が発生した場合は、次の手順を試してみてください:<br>
<br>
- Putty を &quot;vt220&quot; 端末として設定する (Connection-&gt;Data)<br>
- 次の三行を vimrc に追加する:<br>
<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;set t_AB=^[[4%p1%dm<br>
&nbsp;&nbsp;&nbsp;&nbsp;set t_AF=^[[3%p1%dm<br>
&nbsp;&nbsp;&nbsp;&nbsp;set t_CO=8</div>
<br>
<br>
<span class="Todo">Note</span>: ^[ は一文字で、<span class="Special">&lt;C-V&gt;&lt;Esc&gt;</span>&nbsp;を使って入力できる。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
3. Motifの問題&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="MissingTag">OS390-Motif</span>&nbsp;<span class="MissingTag">zOS-Motif</span><br>
<br>
<span class="Todo">Note</span>: Vim 6.* で確認。その後は未テスト。<br>
<br>
Motif ライブラリの z/OS への移植において、プルダウンメニューのアクセラレータ文<br>
字を EBCDIC から ASCII への変換することが忘れられているように思える。&nbsp;<br>
手動で変換するように試してみたが、メニューを開くところ (ファイルメニューを開く<br>
&nbsp;<span class="Special">&lt;Alt-F&gt;</span>) までしか働かず、メニュー項目を選択すること (ファイルブラウザーを開く<br>
&nbsp;<span class="Special">&lt;Alt-F&gt;</span>O) はできない。<br>
<br>
まだ解決法が見つかっていない。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
4. バグ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="MissingTag">OS390-bugs</span>&nbsp;<span class="MissingTag">zOS-Bugs</span><br>
<br>
- ビジュアルブロックモードで長大なテキストを選択すると常にハングする。これはメ<br>
&nbsp;&nbsp;モリ破壊による可能性がある。ターミナルと GUI 版両方で起きる。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
5. 制限事項&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="MissingTag">OS390-limitations</span>&nbsp;<span class="MissingTag">zOS-limitations</span><br>
<br>
- タグファイルには二分探索を使っていない<br>
&nbsp;&nbsp;/bin/sort はデフォルトで ASCII の値を使って並べ替えを行う。このプログラムは<br>
&nbsp;&nbsp;tags を並べ替えるのに ctag により通常使われている。いつかはそれを正しく扱え<br>
&nbsp;&nbsp;る ctags がリリースされるかもしれないが、いつになるかはわからない。もしかし<br>
&nbsp;&nbsp;たら永遠にリリースされないかもしれないし…<br>
<br>
- 著者のメインフレーム上で使っている cscope のバージョンでは、cscope インター<br>
&nbsp;&nbsp;フェイス(<span class="MissingTag">cscope</span>)は動作しない。著者が使っているのはバージョン 15.0b12 で、<br>
&nbsp;&nbsp;これを使って Vim でコマンド &quot;cscope add&quot; を実行すると、Vim がハングする。<br>
&nbsp;&nbsp;cscope のデータベースのバイナリフォーマットが Vim が期待するものと異なるの<br>
&nbsp;&nbsp;ではないかと推測している。cscope の現在のバージョン(15.3)を z/OS へ移植しよ<br>
&nbsp;&nbsp;うとしたが、うまくいっていない。興味のある方がおられたら、何か進展があったと<br>
&nbsp;&nbsp;きは著者にご連絡ください。<br>
<br>
- glib/gtk はサポートしていない。著者は z/OS UNIX 上で glib をコンパイルするこ<br>
&nbsp;&nbsp;とはできなかった。そのため、すてきな gtk ツールバーなしで生きていかねばなら<br>
&nbsp;&nbsp;ない。<br>
<br>
コンパイル時に無効化される機能:<br>
&nbsp;&nbsp;&nbsp;&nbsp;- マルチバイトサポート&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="MissingTag">multibyte</span>)<br>
&nbsp;&nbsp;&nbsp;&nbsp;- 右横書きモード&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="MissingTag">rileft</span>)<br>
&nbsp;&nbsp;&nbsp;&nbsp;- ペルシア語キーマップ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="MissingTag">Farsi</span>)<br>
&nbsp;&nbsp;&nbsp;&nbsp;- アラビア語サポート&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="MissingTag">Arabic</span>)<br>
&nbsp;&nbsp;&nbsp;&nbsp;- スペルチェック&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="MissingTag">spell</span>)<br>
<br>
テストされていない機能:<br>
&nbsp;&nbsp;&nbsp;&nbsp;- Perl インターフェイス&nbsp;&nbsp;&nbsp;&nbsp; (<span class="MissingTag">perl</span>)<br>
&nbsp;&nbsp;&nbsp;&nbsp;- ハングル文字入力&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="MissingTag">hangul</span>)<br>
&nbsp;&nbsp;&nbsp;&nbsp;- 暗号化サポート&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="MissingTag">encryption</span>)<br>
&nbsp;&nbsp;&nbsp;&nbsp;- Langmap&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<span class="MissingTag">'langmap'</span>)<br>
&nbsp;&nbsp;&nbsp;&nbsp;- Python インターフェイス&nbsp;&nbsp; (<span class="MissingTag">Python</span>)<br>
&nbsp;&nbsp;&nbsp;&nbsp;- &quot;右左&quot; 書きモード&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<span class="MissingTag">'rightleft'</span>)<br>
&nbsp;&nbsp;&nbsp;&nbsp;- TCL インターフェイス&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="MissingTag">tcl</span>)<br>
&nbsp;&nbsp;&nbsp;&nbsp;....<br>
<br>
<span class="PreProc">==============================================================================</span><br>
6. z/OS UNIX 上のオープンソース&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="MissingTag">OS390-open-source</span>&nbsp;<span class="MissingTag">zOS-open-source</span><br>
<br>
z/OS UNIX 上の他のオープンソースソフトウェアに興味があるなら、以下の Redbook<br>
を参照すること:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;Mike MacIsaac et al<br>
&nbsp;&nbsp;&nbsp;&nbsp;&quot;Open Source Software for z/OS and OS/390 UNIX&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;IBM Form Number: SG24-5944-01<br>
&nbsp;&nbsp;&nbsp;&nbsp;ISBN: 0738424633<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="Constant"><a href="http://www-03.ibm.com/systems/resources/servers_eserver_zseries_zos_unix_redbook_sg245944.pdf">http://www-03.ibm.com/systems/resources/servers_eserver_zseries_zos_unix_redbook_sg245944.pdf</a></span><br>
<br>
以下も参照してください:<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="Constant"><a href="http://www.redbooks.ibm.com">http://www.redbooks.ibm.com</a></span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="Constant"><a href="http://www-03.ibm.com/systems/z/os/zos/features/unix/">http://www-03.ibm.com/systems/z/os/zos/features/unix/</a></span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="Constant"><a href="http://www-03.ibm.com/systems/z/os/zos/features/unix/library/IBM+Redbooks/index.html">http://www-03.ibm.com/systems/z/os/zos/features/unix/library/IBM+Redbooks/index.html</a></span><br>
<br>
<br>
<br>
<span class="PreProc">------------------------------------------------------------------------------</span><br>
&nbsp;vim:tw=78:ts=8:ft=help:norl:<br>
</div>
